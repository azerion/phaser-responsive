/*!
 * phaser-responsive - version 1.3.1 
 * Adds responsive objects that can be pinned to Phaser!
 *
 * OrangeGames
 * Build at 18-04-2016
 * Released under MIT License 
 */

var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Fabrique;!function(a){var b=function(b){function c(c,d,e,f,g,h,i,j,k,l,m){var n=this;void 0===m&&(m=a.PinnedPosition.topLeft),b.call(this,c,d,e,f,g,h,i,j,k,l),this.portraitScalingConfig=null,this.landscapeScalingConfig=null,this.game.scale.onSizeChange.add(function(){return n.onResize()},this),this.base=new Phaser.Point(d||0,e||0),this.setPinned(m)}return __extends(c,b),c.prototype.setPinned=function(a,b,c){void 0!==b&&void 0!==c&&(this.base=new Phaser.Point(b,c)),this.pinned=a,this.onResize()},c.prototype.onResize=function(){if(null!==this.game){var a=null;if(this.game.width>this.game.height&&null!==this.landscapeScalingConfig?a=this.landscapeScalingConfig:null!==this.portraitScalingConfig&&(a=this.portraitScalingConfig),null!==a){this.game.scale.scaleObjectDynamicly(this,a.percentage,a.percentageOfWidth,a.scaleAnyway);var b=this.scale;this.base=new Phaser.Point(a.x*b.x,a.y*b.y),this.pinned=a.pinnedPosition}var c=this.game.getPinnedBase(this.pinned);this.x=this.base.x+c.x,this.y=this.base.y+c.y}},c.prototype.destroy=function(a){b.prototype.destroy.call(this,a),this.base=null,this.pinned=null,this.landscapeScalingConfig=null,this.portraitScalingConfig=null},c.prototype.setPortraitScaling=function(b,c,d,e,f,g){void 0===c&&(c=!0),void 0===d&&(d=!1),f||(f=0),g||(g=0),e?this.portraitScalingConfig=new a.ScalingConfig(b,c,d,e,f,g):this.portraitScalingConfig=new a.ScalingConfig(b,c,d),this.onResize()},c.prototype.setLandscapeScaling=function(b,c,d,e,f,g){void 0===c&&(c=!0),void 0===d&&(d=!1),f||(f=0),g||(g=0),e?this.landscapeScalingConfig=new a.ScalingConfig(b,c,d,e,f,g):this.landscapeScalingConfig=new a.ScalingConfig(b,c,d),this.onResize()},c}(Phaser.Button);a.ResponsiveButton=b}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b=function(b){function c(c,d,e,f,g,h,i,j,k){var l=this;void 0===k&&(k=a.PinnedPosition.topLeft),b.call(this,c,d,e,f,g,h),this.portraitScalingConfig=null,this.landscapeScalingConfig=null,this.game.scale.onSizeChange.add(function(){return l.onResize()},null),this.base=new Phaser.Point(i||0,j||0),this.setPinned(k)}return __extends(c,b),c.prototype.setPinned=function(a,b,c){void 0!==b&&void 0!==c&&(this.base=new Phaser.Point(b,c)),this.pinned=a,this.onResize()},c.prototype.onResize=function(){if(null!==this.game){var a=null;if(this.game.width>this.game.height&&null!==this.landscapeScalingConfig?a=this.landscapeScalingConfig:null!==this.portraitScalingConfig&&(a=this.portraitScalingConfig),null!==a){this.game.scale.scaleObjectDynamicly(this,a.percentage,a.percentageOfWidth,a.scaleAnyway);var b=this.scale;this.base=new Phaser.Point(a.x*b.x,a.y*b.y),this.pinned=a.pinnedPosition}var c=this.game.getPinnedBase(this.pinned);this.x=this.base.x+c.x,this.y=this.base.y+c.y}},c.prototype.destroy=function(a){b.prototype.destroy.call(this,a),this.base=null,this.pinned=null,this.landscapeScalingConfig=null,this.portraitScalingConfig=null},c.prototype.setPortraitScaling=function(b,c,d,e,f,g){void 0===c&&(c=!0),void 0===d&&(d=!1),f||(f=0),g||(g=0),e?this.portraitScalingConfig=new a.ScalingConfig(b,c,d,e,f,g):this.portraitScalingConfig=new a.ScalingConfig(b,c,d),this.onResize()},c.prototype.setLandscapeScaling=function(b,c,d,e,f,g){void 0===c&&(c=!0),void 0===d&&(d=!1),f||(f=0),g||(g=0),e?this.landscapeScalingConfig=new a.ScalingConfig(b,c,d,e,f,g):this.landscapeScalingConfig=new a.ScalingConfig(b,c,d),this.onResize()},c}(Phaser.Group);a.ResponsiveGroup=b}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b=function(b){function c(c,d,e,f,g,h){var i=this;void 0===h&&(h=a.PinnedPosition.topLeft),b.call(this,c,d,e,f,g),this.portraitScalingConfig=null,this.landscapeScalingConfig=null,this.game.scale.onSizeChange.add(function(){return i.onResize()},null),this.base=new Phaser.Point(d||0,e||0),this.setPinned(h)}return __extends(c,b),c.prototype.setPinned=function(a,b,c){void 0!==b&&void 0!==c&&(this.base=new Phaser.Point(b,c)),this.pinned=a,this.onResize()},c.prototype.onResize=function(){if(null!==this.game){var a=null;if(this.game.width>this.game.height&&null!==this.landscapeScalingConfig?a=this.landscapeScalingConfig:null!==this.portraitScalingConfig&&(a=this.portraitScalingConfig),null!==a){this.game.scale.scaleObjectDynamicly(this,a.percentage,a.percentageOfWidth,a.scaleAnyway);var b=this.scale;this.base=new Phaser.Point(a.x*b.x,a.y*b.y),this.pinned=a.pinnedPosition}var c=this.game.getPinnedBase(this.pinned);this.x=this.base.x+c.x,this.y=this.base.y+c.y}},c.prototype.destroy=function(a){b.prototype.destroy.call(this,a),this.base=null,this.pinned=null,this.landscapeScalingConfig=null,this.portraitScalingConfig=null},c.prototype.setPortraitScaling=function(b,c,d,e,f,g){void 0===c&&(c=!0),void 0===d&&(d=!1),f||(f=0),g||(g=0),e?this.portraitScalingConfig=new a.ScalingConfig(b,c,d,e,f,g):this.portraitScalingConfig=new a.ScalingConfig(b,c,d),this.onResize()},c.prototype.setLandscapeScaling=function(b,c,d,e,f,g){void 0===c&&(c=!0),void 0===d&&(d=!1),f||(f=0),g||(g=0),e?this.landscapeScalingConfig=new a.ScalingConfig(b,c,d,e,f,g):this.landscapeScalingConfig=new a.ScalingConfig(b,c,d),this.onResize()},c}(Phaser.Image);a.ResponsiveImage=b}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b=function(b){function c(c,d,e,f,g,h){var i=this;void 0===h&&(h=a.PinnedPosition.topLeft),b.call(this,c,d,e,f,g),this.portraitScalingConfig=null,this.landscapeScalingConfig=null,this.game.scale.onSizeChange.add(function(){return i.onResize()},null),this.base=new Phaser.Point(d||0,e||0),this.setPinned(h)}return __extends(c,b),c.prototype.setPinned=function(a,b,c){void 0!==b&&void 0!==c&&(this.base=new Phaser.Point(b,c)),this.pinned=a,this.onResize()},c.prototype.onResize=function(){if(null!==this.game){var a=null;if(this.game.width>this.game.height&&null!==this.landscapeScalingConfig?a=this.landscapeScalingConfig:null!==this.portraitScalingConfig&&(a=this.portraitScalingConfig),null!==a){this.game.scale.scaleObjectDynamicly(this,a.percentage,a.percentageOfWidth,a.scaleAnyway);var b=this.scale;this.base=new Phaser.Point(a.x*b.x,a.y*b.y),this.pinned=a.pinnedPosition}var c=this.game.getPinnedBase(this.pinned);this.x=this.base.x+c.x,this.y=this.base.y+c.y}},c.prototype.destroy=function(a){b.prototype.destroy.call(this,a),this.base=null,this.pinned=null,this.landscapeScalingConfig=null,this.portraitScalingConfig=null},c.prototype.setPortraitScaling=function(b,c,d,e,f,g){void 0===c&&(c=!0),void 0===d&&(d=!1),f||(f=0),g||(g=0),e?this.portraitScalingConfig=new a.ScalingConfig(b,c,d,e,f,g):this.portraitScalingConfig=new a.ScalingConfig(b,c,d),this.onResize()},c.prototype.setLandscapeScaling=function(b,c,d,e,f,g){void 0===c&&(c=!0),void 0===d&&(d=!1),f||(f=0),g||(g=0),e?this.landscapeScalingConfig=new a.ScalingConfig(b,c,d,e,f,g):this.landscapeScalingConfig=new a.ScalingConfig(b,c,d),this.onResize()},c}(Phaser.Sprite);a.ResponsiveSprite=b}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b=function(b){function c(c,d,e,f,g,h){var i=this;void 0===h&&(h=a.PinnedPosition.topLeft),b.call(this,c,d,e,f,g),this.portraitScalingConfig=null,this.landscapeScalingConfig=null,this.game.scale.onSizeChange.add(function(){return i.onResize()},null),this.base=new Phaser.Point(d||0,e||0),this.setPinned(h)}return __extends(c,b),c.prototype.setPinned=function(a,b,c){void 0!==b&&void 0!==c&&(this.base=new Phaser.Point(b,c)),this.pinned=a,this.onResize()},c.prototype.onResize=function(){if(null!==this.game){var a=null;if(this.game.width>this.game.height&&null!==this.landscapeScalingConfig?a=this.landscapeScalingConfig:null!==this.portraitScalingConfig&&(a=this.portraitScalingConfig),null!==a){this.game.scale.scaleObjectDynamicly(this,a.percentage,a.percentageOfWidth,a.scaleAnyway);var b=this.scale;this.base=new Phaser.Point(a.x*b.x,a.y*b.y),this.pinned=a.pinnedPosition}var c=this.game.getPinnedBase(this.pinned);this.x=this.base.x+c.x,this.y=this.base.y+c.y}},c.prototype.destroy=function(a){b.prototype.destroy.call(this,a),this.base=null,this.pinned=null,this.landscapeScalingConfig=null,this.portraitScalingConfig=null},c.prototype.setPortraitScaling=function(b,c,d,e,f,g){void 0===c&&(c=!0),void 0===d&&(d=!1),f||(f=0),g||(g=0),e?this.portraitScalingConfig=new a.ScalingConfig(b,c,d,e,f,g):this.portraitScalingConfig=new a.ScalingConfig(b,c,d),this.onResize()},c.prototype.setLandscapeScaling=function(b,c,d,e,f,g){void 0===c&&(c=!0),void 0===d&&(d=!1),f||(f=0),g||(g=0),e?this.landscapeScalingConfig=new a.ScalingConfig(b,c,d,e,f,g):this.landscapeScalingConfig=new a.ScalingConfig(b,c,d),this.onResize()},c}(Phaser.Text);a.ResponsiveText=b}(Fabrique||(Fabrique={}));var Fabrique;!function(a){!function(a){a[a.topLeft=0]="topLeft",a[a.topCenter=1]="topCenter",a[a.topRight=2]="topRight",a[a.middleLeft=3]="middleLeft",a[a.middleCenter=4]="middleCenter",a[a.middleRight=5]="middleRight",a[a.bottomLeft=6]="bottomLeft",a[a.bottomCenter=7]="bottomCenter",a[a.bottomRight=8]="bottomRight"}(a.PinnedPosition||(a.PinnedPosition={}));a.PinnedPosition}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b;!function(b){var c=function(b){function c(c,d){var e=this;b.call(this,c,d),c.hasOwnProperty("getPinnedBase")||Object.defineProperty(c,"getPinnedBase",{value:function(b){switch(b){case a.PinnedPosition.topLeft:return new Phaser.Point(0,0);case a.PinnedPosition.topCenter:return new Phaser.Point(e.game.width/2,0);case a.PinnedPosition.topRight:return new Phaser.Point(e.game.width,0);case a.PinnedPosition.middleLeft:return new Phaser.Point(0,e.game.height/2);case a.PinnedPosition.middleCenter:return new Phaser.Point(e.game.width/2,e.game.height/2);case a.PinnedPosition.middleRight:return new Phaser.Point(e.game.width,e.game.height/2);case a.PinnedPosition.bottomLeft:return new Phaser.Point(0,e.game.height);case a.PinnedPosition.bottomCenter:return new Phaser.Point(e.game.width/2,e.game.height);case a.PinnedPosition.bottomRight:return new Phaser.Point(e.game.width,e.game.height)}}}),this.addResponsiveFactory(),this.addResponsiveCreator(),this.addResponsiveScaleManager()}return __extends(c,b),c.prototype.addResponsiveScaleManager=function(){Phaser.ScaleManager.prototype.scaleObjectDynamicly=function(a,b,c,d){if(void 0===c&&(c=!0),void 0===d&&(d=!1),!this.game.device.desktop||d){a.scale.set(1,1);var e,f,g;c?(e=this.game.width*b/100,g=e/a.width,f=a.height*g,f>this.game.height&&(g=(this.game.height-10)/a.height),a.scale.set(g,g)):(f=this.game.height*b/100,g=f/a.height,e=a.width*g,e>this.game.width&&(g=(this.game.width-10)/a.width),a.scale.set(g,g))}}},c.prototype.addResponsiveFactory=function(){Phaser.GameObjectFactory.prototype.responsiveImage=function(b,c,d,e,f,g){return void 0===g&&(g=this.world),g.add(new a.ResponsiveImage(this.game,b,c,d,e,f))},Phaser.GameObjectFactory.prototype.responsiveButton=function(b,c,d,e,f,g,h,i,j,k,l){return void 0===l&&(l=this.world),l.add(new a.ResponsiveButton(this.game,b,c,d,e,f,g,h,i,j,k))},Phaser.GameObjectFactory.prototype.responsiveSprite=function(b,c,d,e,f,g){return void 0===g&&(g=this.world),g.add(new a.ResponsiveSprite(this.game,b,c,d,e,f))},Phaser.GameObjectFactory.prototype.responsiveText=function(b,c,d,e,f,g){return void 0===g&&(g=this.world),g.add(new a.ResponsiveText(this.game,b,c,d,e,f))},Phaser.GameObjectFactory.prototype.responsiveGroup=function(b,c,d,e,f,g,h,i){return new a.ResponsiveGroup(this.game,b,c,d,e,f,g,h,i)}},c.prototype.addResponsiveCreator=function(){Phaser.GameObjectCreator.prototype.responsiveImage=function(b,c,d,e,f){return new a.ResponsiveImage(this.game,b,c,d,e,f)},Phaser.GameObjectCreator.prototype.responsiveButton=function(b,c,d,e,f,g,h,i,j,k,l){return new a.ResponsiveButton(this.game,b,c,d,e,f,g,h,i,j,k)},Phaser.GameObjectCreator.prototype.responsiveSprite=function(b,c,d,e,f){return new a.ResponsiveSprite(this.game,b,c,d,e,f)},Phaser.GameObjectCreator.prototype.responsiveText=function(b,c,d,e,f){return new a.ResponsiveText(this.game,b,c,d,e,f)},Phaser.GameObjectCreator.prototype.responsiveGroup=function(b,c,d,e,f,g,h,i){return new a.ResponsiveGroup(this.game,b,c,d,e,f,g,h,i)}},c}(Phaser.Plugin);b.Responsiveness=c}(b=a.Plugins||(a.Plugins={}))}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b=function(){function b(b,c,d,e,f,g){void 0===c&&(c=!0),void 0===d&&(d=!1),this.pinnedPosition=a.PinnedPosition.topLeft,this.x=0,this.y=0,this.percentage=b,this.percentageOfWidth=c,this.scaleAnyway=d,e&&(this.pinnedPosition=e),f&&(this.x=f),g&&(this.y=g)}return b}();a.ScalingConfig=b}(Fabrique||(Fabrique={}));